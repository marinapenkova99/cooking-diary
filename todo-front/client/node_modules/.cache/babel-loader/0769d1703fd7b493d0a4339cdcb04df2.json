{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u041F\\u043B\\u043E\\u0442/projects/todo/todo-front/client/src/modules/category/edit/EditCategoryContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./EditCategoryStyle.css\";\nimport UserLayout from \"../../../packages/userLayout/UserLayout\";\nimport OrangeButton from \"../../../packages/buttons/orangeButton/OrangeButton\";\nimport axios from \"axios\";\nimport { H2, Label } from \"../../../packages/text/Text\";\nimport Input from \"../../../packages/input/Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditCategoryContainer = props => {\n  _s();\n\n  const [inputState, setInputState] = useState({\n    categoryName: \"\"\n  });\n  const [nameError, setNameError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    getCategory();\n  }, []);\n\n  const handleInput = e => {\n    setInputState({ ...inputState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const validateForm = () => {\n    let isValid = true;\n\n    if (inputState.categoryName.length < 1) {\n      isValid = false;\n      setNameError(\"Моля, въведете валидно име.\");\n    }\n\n    return isValid;\n  };\n\n  const resetForm = () => {\n    setNameError(\"\");\n    setInputState({\n      categoryName: \"\"\n    });\n  };\n\n  const getCategory = () => {\n    setIsLoading(true);\n    axios.get(`http://localhost:4000/category/${props.match.params.id}`).then(res => {\n      setInputState({\n        categoryName: res.data[0].name\n      });\n      setIsLoading(false);\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const handleSubmit = () => {\n    let categoryFormValid = validateForm();\n\n    if (!categoryFormValid) {\n      return;\n    }\n\n    resetForm();\n    let category = {\n      name: inputState.categoryName\n    };\n    axios.put(`http://localhost:4000/category/${props.match.params.id}`, {\n      category\n    }).then(res => {\n      setSuccess(\"Вие успешно редактирахте категория\");\n    }).catch(e => console.error(e));\n  };\n\n  if (isLoading) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(UserLayout, {\n      children: [/*#__PURE__*/_jsxDEV(H2, {\n        h2: \"Редактирай категория\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Име на категория\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        value: inputState.categoryName,\n        name: \"categoryName\",\n        handleInput: handleInput,\n        error: nameError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(OrangeButton, {\n          onClick: handleSubmit,\n          text: \"Редактирай\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), success && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"right\"\n        },\n        className: \"success\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditCategoryContainer, \"h2kHdaa1VX+sqVCNuPn1w2C6L0U=\");\n\n_c = EditCategoryContainer;\nexport default EditCategoryContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCategoryContainer\");","map":{"version":3,"sources":["/home/user/Плот/projects/todo/todo-front/client/src/modules/category/edit/EditCategoryContainer.js"],"names":["React","useEffect","useState","UserLayout","OrangeButton","axios","H2","Label","Input","EditCategoryContainer","props","inputState","setInputState","categoryName","nameError","setNameError","success","setSuccess","isLoading","setIsLoading","getCategory","handleInput","e","target","name","value","validateForm","isValid","length","resetForm","get","match","params","id","then","res","data","catch","err","console","log","response","handleSubmit","categoryFormValid","category","put","error","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./EditCategoryStyle.css\";\nimport UserLayout from \"../../../packages/userLayout/UserLayout\";\nimport OrangeButton from \"../../../packages/buttons/orangeButton/OrangeButton\";\nimport axios from \"axios\";\nimport { H2, Label } from \"../../../packages/text/Text\";\nimport Input from \"../../../packages/input/Input\";\n\nconst EditCategoryContainer = (props) => {\n  const [inputState, setInputState] = useState({\n    categoryName: \"\",\n  });\n  const [nameError, setNameError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    getCategory();\n  }, []);\n  const handleInput = (e) => {\n    setInputState({ ...inputState, [e.target.name]: e.target.value });\n  };\n  const validateForm = () => {\n    let isValid = true;\n    if (inputState.categoryName.length < 1) {\n      isValid = false;\n      setNameError(\"Моля, въведете валидно име.\");\n    }\n\n    return isValid;\n  };\n  const resetForm = () => {\n    setNameError(\"\");\n    setInputState({ categoryName: \"\" });\n  };\n  const getCategory = () => {\n    setIsLoading(true);\n    axios\n      .get(`http://localhost:4000/category/${props.match.params.id}`)\n      .then((res) => {\n        setInputState({ categoryName: res.data[0].name });\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  };\n  const handleSubmit = () => {\n    let categoryFormValid = validateForm();\n\n    if (!categoryFormValid) {\n      return;\n    }\n\n    resetForm();\n    let category = {\n      name: inputState.categoryName,\n    };\n    axios\n      .put(`http://localhost:4000/category/${props.match.params.id}`, {\n        category,\n      })\n      .then((res) => {\n        setSuccess(\"Вие успешно редактирахте категория\");\n      })\n      .catch((e) => console.error(e));\n  };\n  if (isLoading) return null;\n  return (\n    <div className=\"page_wrapper\">\n      <UserLayout>\n        <H2 h2={\"Редактирай категория\"} />\n        <Label label={\"Име на категория\"} />{\" \"}\n        <Input\n          type={\"text\"}\n          value={inputState.categoryName}\n          name={\"categoryName\"}\n          handleInput={handleInput}\n          error={nameError}\n        />\n        <div className=\"btn_wrapper\">\n          <OrangeButton onClick={handleSubmit} text={\"Редактирай\"} />\n        </div>\n        {success && (\n          <p style={{ textAlign: \"right\" }} className=\"success\">\n            {success}\n          </p>\n        )}\n      </UserLayout>\n    </div>\n  );\n};\n\nexport default EditCategoryContainer;\n"]},"metadata":{},"sourceType":"module"}
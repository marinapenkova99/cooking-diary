{"ast":null,"code":"var _jsxFileName = \"/home/user/\\u041F\\u043B\\u043E\\u0442/projects/todo/todo-front/client/src/modules/recipes/createRecipe/CreateRecipeContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./CreateRecipeStyle.css\";\nimport RecipeImageUploader from \"../recipeImageUploader/RecipeImageUploader\";\nimport TextEditor from \"../textEditor/TextEditor\";\nimport UserLayout from \"../../../packages/userLayout/UserLayout\";\nimport OrangeButton from \"../../../packages/buttons/orangeButton/OrangeButton\";\nimport { H2, Label } from \"../../../packages/text/Text\";\nimport Input from \"../../../packages/input/Input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreateRecipeContainer = props => {\n  _s();\n\n  const [errorTitle, setErrorTitle] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [categoriesLoading, setCategoriesLoading] = useState(true);\n  const [recipeInfo, setRecipeInfo] = useState({\n    id: Math.random() * 1000,\n    title: \"\",\n    date: \"\",\n    description: \"\",\n    cookingTime: \"\",\n    levelOfDifficulty: 0,\n    selectedCategory: \"\"\n  });\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  const fetchCategories = () => {\n    setCategoriesLoading(true);\n    axios.get(`http://localhost:4000/category`).then(res => {\n      setCategories(res.data);\n      setCategoriesLoading(false);\n    }).catch(e => console.error(e));\n  };\n\n  const validateForm = () => {\n    let isValid = true;\n\n    if (recipeInfo.title.length < 1 || recipeInfo.title.length > 200) {\n      isValid = false;\n      setErrorTitle(\"Моля въведете валидно заглавие\");\n    }\n\n    return isValid;\n  };\n\n  const resetForm = () => {\n    setErrorTitle(\"\");\n  };\n\n  const handleSubmit = () => {\n    let isCreateTaskFormValid = validateForm();\n\n    if (!isCreateTaskFormValid) {\n      return;\n    }\n\n    resetForm();\n    let recipe = {\n      id: recipeInfo.id,\n      title: recipeInfo.title,\n      Date: new Date(recipeInfo.date).getTime() / 1000,\n      description: recipeInfo.description !== \"\" ? recipeInfo.description : undefined,\n      image: imagePreviewUrl,\n      categoryId: recipeInfo.selectedCategory,\n      cooking_time: recipeInfo.cookingTime,\n      level_of_difficulty: recipeInfo.levelOfDifficulty\n    };\n    axios.post(`http://localhost:4000/recipes`, {\n      recipe\n    }).then(res => {\n      window.location.reload();\n    }).catch(e => console.error(e));\n  };\n\n  const handleChange = e => {\n    setRecipeInfo({ ...recipeInfo,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleImageChange = e => {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const handleQuillChange = value => {\n    setRecipeInfo({ ...recipeInfo,\n      description: value\n    });\n  };\n\n  if (categoriesLoading) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page_wrapper\",\n    children: /*#__PURE__*/_jsxDEV(UserLayout, {\n      children: [/*#__PURE__*/_jsxDEV(H2, {\n        h2: \"Създай рецепта\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RecipeImageUploader, {\n        handleImageChange: handleImageChange,\n        imagePreviewUrl: imagePreviewUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Заглавие\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        handleInput: handleChange,\n        value: recipeInfo.title,\n        error: errorTitle,\n        type: \"text\",\n        name: \"title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Дата\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        handleInput: handleChange,\n        value: recipeInfo.date,\n        error: errorTitle,\n        type: \"date\",\n        name: \"date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Време за приготване\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        handleInput: handleChange,\n        value: recipeInfo.cookingTime,\n        error: errorTitle,\n        type: \"text\",\n        name: \"cookingTime\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Трудност\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        handleInput: handleChange,\n        value: recipeInfo.levelOfDifficulty,\n        error: errorTitle,\n        type: \"text\",\n        name: \"levelOfDifficulty\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Описание\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextEditor, {\n        placeholder: \"Започнете да пишете...\",\n        value: recipeInfo.description,\n        onTextEditorChange: text => handleQuillChange(text)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Label, {\n        label: \"Изберете категория\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"create_recipe_input\",\n        onChange: handleChange,\n        value: recipeInfo.selectedCategory,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \" \\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), categories.map((category, index) => {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.id,\n            children: category.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn_wrapper\",\n        children: /*#__PURE__*/_jsxDEV(OrangeButton, {\n          onClick: handleSubmit,\n          text: \"Създай\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateRecipeContainer, \"bp7iGZUEB5DnUV+gqtabaae5ng4=\");\n\n_c = CreateRecipeContainer;\nexport default CreateRecipeContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateRecipeContainer\");","map":{"version":3,"sources":["/home/user/Плот/projects/todo/todo-front/client/src/modules/recipes/createRecipe/CreateRecipeContainer.js"],"names":["React","useEffect","useState","axios","RecipeImageUploader","TextEditor","UserLayout","OrangeButton","H2","Label","Input","CreateRecipeContainer","props","errorTitle","setErrorTitle","file","setFile","imagePreviewUrl","setImagePreviewUrl","categories","setCategories","categoriesLoading","setCategoriesLoading","recipeInfo","setRecipeInfo","id","Math","random","title","date","description","cookingTime","levelOfDifficulty","selectedCategory","fetchCategories","get","then","res","data","catch","e","console","error","validateForm","isValid","length","resetForm","handleSubmit","isCreateTaskFormValid","recipe","Date","getTime","undefined","image","categoryId","cooking_time","level_of_difficulty","post","window","location","reload","handleChange","target","name","value","handleImageChange","preventDefault","reader","FileReader","files","onloadend","result","readAsDataURL","handleQuillChange","text","map","category","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./CreateRecipeStyle.css\";\nimport RecipeImageUploader from \"../recipeImageUploader/RecipeImageUploader\";\nimport TextEditor from \"../textEditor/TextEditor\";\nimport UserLayout from \"../../../packages/userLayout/UserLayout\";\nimport OrangeButton from \"../../../packages/buttons/orangeButton/OrangeButton\";\nimport { H2, Label } from \"../../../packages/text/Text\";\nimport Input from \"../../../packages/input/Input\";\n\nconst CreateRecipeContainer = (props) => {\n  const [errorTitle, setErrorTitle] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\n  const [categories, setCategories] = useState([]);\n  const [categoriesLoading, setCategoriesLoading] = useState(true);\n  const [recipeInfo, setRecipeInfo] = useState({\n    id: Math.random() * 1000,\n    title: \"\",\n    date: \"\",\n    description: \"\",\n    cookingTime: \"\",\n    levelOfDifficulty: 0,\n    selectedCategory: \"\",\n  });\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n  const fetchCategories = () => {\n    setCategoriesLoading(true);\n    axios\n      .get(`http://localhost:4000/category`)\n      .then((res) => {\n        setCategories(res.data);\n        setCategoriesLoading(false);\n      })\n      .catch((e) => console.error(e));\n  };\n  const validateForm = () => {\n    let isValid = true;\n    if (recipeInfo.title.length < 1 || recipeInfo.title.length > 200) {\n      isValid = false;\n      setErrorTitle(\"Моля въведете валидно заглавие\");\n    }\n\n    return isValid;\n  };\n  const resetForm = () => {\n    setErrorTitle(\"\");\n  };\n  const handleSubmit = () => {\n    let isCreateTaskFormValid = validateForm();\n\n    if (!isCreateTaskFormValid) {\n      return;\n    }\n\n    resetForm();\n    let recipe = {\n      id: recipeInfo.id,\n      title: recipeInfo.title,\n      Date: new Date(recipeInfo.date).getTime() / 1000,\n      description:\n        recipeInfo.description !== \"\" ? recipeInfo.description : undefined,\n      image: imagePreviewUrl,\n      categoryId: recipeInfo.selectedCategory,\n      cooking_time: recipeInfo.cookingTime,\n      level_of_difficulty: recipeInfo.levelOfDifficulty,\n    };\n    axios\n      .post(`http://localhost:4000/recipes`, { recipe })\n      .then((res) => {\n        window.location.reload();\n      })\n      .catch((e) => console.error(e));\n  };\n  const handleChange = (e) => {\n    setRecipeInfo({ ...recipeInfo, [e.target.name]: e.target.value });\n  };\n  const handleImageChange = (e) => {\n    e.preventDefault();\n\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      setFile(file);\n      setImagePreviewUrl(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n  };\n  const handleQuillChange = (value) => {\n    setRecipeInfo({ ...recipeInfo, description: value });\n  };\n\n  if (categoriesLoading) return null;\n  return (\n    <div className=\"page_wrapper\">\n      <UserLayout>\n        <H2 h2={\"Създай рецепта\"} />\n        <RecipeImageUploader\n          handleImageChange={handleImageChange}\n          imagePreviewUrl={imagePreviewUrl}\n        />\n        <Label label={\"Заглавие\"} />\n        <Input\n          handleInput={handleChange}\n          value={recipeInfo.title}\n          error={errorTitle}\n          type={\"text\"}\n          name={\"title\"}\n        />{\" \"}\n        <Label label={\"Дата\"} />\n        <Input\n          handleInput={handleChange}\n          value={recipeInfo.date}\n          error={errorTitle}\n          type={\"date\"}\n          name={\"date\"}\n        />{\" \"}\n        <Label label={\"Време за приготване\"} />\n        <Input\n          handleInput={handleChange}\n          value={recipeInfo.cookingTime}\n          error={errorTitle}\n          type={\"text\"}\n          name={\"cookingTime\"}\n        />{\" \"}\n        <Label label={\"Трудност\"} />\n        <Input\n          handleInput={handleChange}\n          value={recipeInfo.levelOfDifficulty}\n          error={errorTitle}\n          type={\"text\"}\n          name={\"levelOfDifficulty\"}\n        />\n        <Label label={\"Описание\"} />\n        <TextEditor\n          placeholder={\"Започнете да пишете...\"}\n          value={recipeInfo.description}\n          onTextEditorChange={(text) => handleQuillChange(text)}\n        />{\" \"}\n        <Label label={\"Изберете категория\"} />\n        <select\n          className=\"create_recipe_input\"\n          onChange={handleChange}\n          value={recipeInfo.selectedCategory}\n        >\n          <option value=\"\"> Категория</option>\n          {categories.map((category, index) => {\n            return (\n              <option key={index} value={category.id}>\n                {category.name}\n              </option>\n            );\n          })}\n        </select>\n        <div className=\"btn_wrapper\">\n          <OrangeButton onClick={handleSubmit} text={\"Създай\"} />\n        </div>\n      </UserLayout>\n    </div>\n  );\n};\n\nexport default CreateRecipeContainer;\n"]},"metadata":{},"sourceType":"module"}